
模型是对客观世界的某一种简化，是对事物或系统的一种抽象描述。

## 结构化分析

- 一种面向数据流的传统软件开发方法 。
- 以数据流为中心构件软件的分析模型、设计模型和实现模型。
- 分为：
	- 结构化分析 SA structured analysis
	- 结构化设计 SD structured design
	- 结构化编程 SP structured programming

结构化方法的思想：

- 抽象与自顶向下的逐层分解（控制复杂性的两个基本手段）
	- 抽象：从作为整体的软件系统开始，每一抽象层次上只关注于系统的输入输出。
	- 分解：将系统不断分解为子系统、模块。

![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307135757967.png)

### 数据流图

描述输入数据流到输出数据流的变换（加工）过程，用于对系统的功能建模，基本元素包括：

- 数据流 $\displaystyle \to$ data flow：由一组固定成本的数据组成，代表数据的流动方向。
	- 流进或流出文件的数据流不需要标注名字，因为文件本身就足以说明数据流。
	- 而别的数据流则必须标出名字，名字能反映数据流的含义。
	- 数据流不允许同名。
	- 注意只表达数据流，而不存在控制流。【若动作没有数据传递，只是触发，则删去】
- 加工 process： 一个⭕️。描述了输入数据流到输出数据流的变换，即将输入数据流加工成输出数据流。  
	- 规定一个编号用来标识该加工在层次分解中的位置。
	- 名字中必须包含一个动词，例如“计算”、“打印” 等。
	- 对数据的加工有两种：改变数据的结构【将原来的数据重新排序】、产生新的数据【求平均值等统计】
- 文件 file【两个横线】：使用文件、数据库 等保存某些数据结果供以后使用。
	- 读文件：数据流从文件流出。
	- 如果是又读又写，则数据流是双向的。
	- 注意，修改文件的时候 是流入。而不是 双向。
- 源或宿：【方框】：表示数据的外部来源和去处。他通常是系统之外的人员或者组织、不受系统的控制。
	- 为了避免数据流图上出现线条的交叉、同一个源点、终点、或者文件，均可在不同位置多次出现。
	- 这时要在源点符号的右下方画一个小斜线。或者在文件符号的左边画一个竖线，以示重复  
	-![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307173611257.png)

DFD（Data Flow Diagram）表示的是数据流图

使用实例：  
![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307165248984.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307165332282.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307165409397.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307165438113.png)

对数据流图进行分层：
- 人们短期记忆都在 5-9 件事情中。
- 根据自顶向下逐层分解的思想将数据流图画成层次结构。
- 每一个层次画在独立的数据流图中，加工个数可以大致控制在 5-9 范围中。
- **0 层 DFD（Context Diagram）**：表示整个系统的最高层次，只显示系统与外部实体的交互，不细分内部处理。
- **1 层 DFD**：对 0 层 DFD 进行分解，展示主要子功能模块。
- **2 层及更深层次 DFD**：进一步细化系统的功能，直到所有流程清晰定义。

![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307170027829.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307170040619.png)

DFD 细化：  
DFD 的画法：
- 识别系统的输入和输出
- 从输入端到输出端画数据流和加工，并同时加上文件。
- 加工的分解 “由外向内” 进行分解
- 数据流的命名，名字要确切，能够反映整体。
- 各种符号的布置要合理，分布均匀，尽量避免交叉线。
- 先考虑稳定态，再考虑瞬间态。如果系统启动之后在正常工作状态，稍后再考虑系统的启动和终止状态。
- 【边界和范围】【系统的内部】【加工输入和输出】【加工内部】

具体画法：

- (2) 识别系统的输入和输出，画出顶层图  
	即确定系统的边界。在系统分析初期，系统的功能需求等还不很明确，为了防止遗漏，不妨先将范围定得大一些。系统边界确定后，那么越过边界的数据流就是系统的输入或输出，将输入与输出用加工符号连接起来,并加上输入数据来源和输出数据去向就形成了顶层图。
- (2) 画系统内部的数据流、加工与文件,画出一级细化图  
	从系统输入端到输出端 (也可反之)，逐步用数据流和加工连接起来，当数据流的组成或值发生变化时，就在该处画一个“加工”符号。  
	画数据流图时还应同时画上文件，以反映各种数据的存贮处，并表明数据流是流入还是流出文件。  
	最后，再回过头来检查系统的边界，补上遗漏但有用的输入输出数据流，删去那些没被系统使用的数据流。
- (3) 加工的进一步分解，画出二级细化图  
	同样运用“由外向里”方式对每个加工进行分析，如果在该加工内部还有数据流，则可将该加工分成若干个子加工，并用一些数据流把子加工联接起来，即可画出二级细化图。二级细化图可在一级细化图的基础上画出，也可单独画出该加工的二级细化图，二级细化图也称为该加工的子图。
- (4) 其它注意事项  
	一般应先给数据流命名，再根据输入/输出数据流名的含义为加工命名。名字含义要确切，要能反映相应的整体。若碰到难以命名的情况，则很可能是分解不恰当造成的。应考虑重新分解。  
	从左至右画数据流图。通常左侧、右侧分别是数据源和终点，中间是一系列加工和文件。正式的数据流图应尽量避免线条交叉，必要时可用重复的数据源、终点和文件符号。此外，数据流图中各种符号布置要合理，分布应均匀。  
	画数据流图是一项艰巨的工作，要做好重画的思想准备，重画是为了消除隐患，有必要不断改进。
	
	因为作为顶层加工处理的改变域是确定的，所以改变域的分解是严格的自顶向下分解的。由于目标系统目前还不存在，应此分解时开发人员还需凭经验进行，这是一项创造性的劳动。同时，在建立目标系统数据流图时，还应充分利用本章讲过的各种方法和技术，例如: 分解时尽量减少各加工之间的数据流；数据流图中各个成分的命名要恰当；父图与子图间要注意平衡等等。

	当画出分层数据流图，并为数据流图中各个成分编写词典条目或加工说明后，就获得了目标系统的初步逻辑模型

举例：

考务系统：  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307183740150.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307183747735.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307183804578.png)


![image.png](https://raw.githubusercontent.com/psychonaut1f/mac/main/2025/20250307171014179.png)

DFD 练习：

### 分层数据流图的审查

- 检查图中是否存在错误或者不合理的部分。
	- 一致性：分层 DFD 中不存在矛盾和冲突
	- 完整性：分层 DFD 本身的完整性，也就是是否有遗漏的数据流，加工等元素。
- 父图和子图的平衡：
	- 任何一张 DFD 子图边界上的输入/输出数据流必须与其父图中对应的加工的输入/输出数据流保持一致
- 数据守恒：
	- 一个加工所有输出数据流中的数据，必须能从该加工的输入数据流中直接获得，或者能通过该加工的处理而产生
	- 多余的数据流：加工未使用其输入数据流中的某些数据项

keyword：均匀

### 数据字典

- 数据流图与数据字典是密不可分的，两者结合起来构成软件的分析模型。
- 数据字典由字典条目组成，每一个条目描述 DFD 中的一个元素
- 数据字典条目包括：数据流、文件、加工、源或宿

![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307185449464.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307185512161.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307185528026.png)

### 描述基本加工的小说明

![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307185848198.png)

结构化语言  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307185903976.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307190008002.png)  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307190250826.png)

### 实体——关系图 ERD

entity-relation diagram ERD 用于数据建模，描述数据字典中数据之间的关系。
- 实体是客观存在的数据对象。
	- 只封装数据，不封装数据的操作，和 OO 类不同。
	- 例如：学生，学校，植物。书本
- 实体具有属性
	- 例如：学生具有姓名和地址
- 实体间可以存在多种不同的关系
	- 例如：教师指导学生，学生逃课

实例：  
![image.png](https://raw.githubusercontent.com/psychonaut1f/2025/main/825/20250307191004143.png)
